{% extends "base.html" %}

{% block title %}Trang ch·ªß | Quiz System{% endblock %}

{% block content %}
<div class="card-soft p-4 p-md-5 mb-4">
    <div class="row align-items-center">
        <div class="col-md-7">
            <h1 class="page-title mb-2">
                Xin ch√†o, {{ current_user.username }} üëã
            </h1>
            <p class="page-subtitle mb-3">
                H·ªá th·ªëng thi tr·∫Øc nghi·ªám tr·ª±c tuy·∫øn. Ch·ªçn quiz, v√†o thi,
                auto ch·∫•m, l∆∞u l·ªãch s·ª≠, kh√¥ng n√≥i nhi·ªÅu.
            </p>
            <div class="d-flex flex-wrap gap-2">
                <a href="{{ url_for('quiz.quiz_list') }}" class="btn btn-primary-soft">
                    üöÄ V√†o danh s√°ch Quiz
                </a>
                <a href="{{ url_for('quiz.history') }}" class="btn btn-outline-soft">
                    üìú Xem l·ªãch s·ª≠ l√†m b√†i
                </a>
                {% if current_user.role == "admin" %}
                <a href="{{ url_for('quiz.manage_quizzes') }}" class="btn btn-outline-soft">
                    üõ† Khu v·ª±c Admin
                </a>
                {% endif %}
            </div>
        </div>
        <div class="col-md-5 mt-4 mt-md-0">
            <div class="text-center">
                <div class="score-circle" style="--score: 75;">
                    <div class="score-inner">
                        üéØ
                    </div>
                </div>
                <p class="page-subtitle mb-1">
                    S·∫µn s√†ng n√¢ng c·∫•p n√£o ch∆∞a?
                </p>
                <small class="text-muted">Ch·ªçn m·ªôt quiz ƒë·ªÉ b·∫Øt ƒë·∫ßu.</small>
            </div>
        </div>
    </div>
</div>

{% if quizzes %}
    <h5 class="mb-3">Quiz ƒëang m·ªü</h5>
    <div class="row g-3">
        {% for quiz in quizzes %}
        <div class="col-md-6">
            <a href="{{ url_for('quiz.start_quiz', quiz_id=quiz.id) }}" class="text-decoration-none text-white">
                <div class="quiz-card p-3 h-100">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0">{{ quiz.title }}</h5>
                        <span class="badge-mode {% if quiz.mode == 'exam' %}badge-exam{% else %}badge-practice{% endif %}">
                            {{ "Exam" if quiz.mode == "exam" else "Practice" }}
                        </span>
                    </div>
                    <p class="page-subtitle mb-2">
                        {{ quiz.description or "Kh√¥ng c√≥ m√¥ t·∫£" }}
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <small class="text-muted">
                            Th·ªùi gian: {{ quiz.time_limit or "Kh√¥ng gi·ªõi h·∫°n" }} ph√∫t
                        </small>
                        <span class="text-info small">B·∫Øt ƒë·∫ßu ngay ‚Üí</span>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
{% else %}
    <p class="page-subtitle">Hi·ªán ch∆∞a c√≥ quiz n√†o ƒë∆∞·ª£c m·ªü.</p>
{% endif %}
{% endblock %}
