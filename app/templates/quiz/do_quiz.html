{% extends "base.html" %}
{% block title %}Làm quiz{% endblock %}

{% block content %}
<h3>{{ quiz.title }}</h3>
<p class="text-muted">
  {{ quiz.description }}
  {% if quiz.time_limit %}
    | Thời gian: {{ quiz.time_limit }} phút
  {% endif %}
</p>

<form method="post">

  {% for q in questions %}
    <div class="card mb-3">
      <div class="card-body">
        <p><strong>Câu {{ loop.index }}:</strong> {{ q.content }}</p>

        {% if q.type in ["mcq", "true_false"] %}
          {% for c in q.choices %}
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="q_{{ q.id }}"
                id="c{{ c.id }}"
                value="{{ c.id }}"
              >
              <label class="form-check-label" for="c{{ c.id }}">
                {{ c.content }}
              </label>
            </div>
          {% endfor %}
        {% elif q.type == "essay" %}
          <textarea class="form-control" name="q_{{ q.id }}" rows="3"></textarea>
        {% endif %}
      </div>
    </div>
  {% endfor %}

  <button type="submit" class="btn btn-primary">Nộp bài</button>
</form>
{% endblock %}
